definitions:
  models.AddPageNumberJob:
    properties:
      color:
        type: string
      created_at:
        type: string
      first_number:
        type: integer
      font_size:
        type: integer
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      page_range:
        type: string
      position:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.AddPageNumbersRequest:
    properties:
      color:
        type: string
      first_number:
        description: <-- bu yer o‘zgardi
        minimum: 1
        type: integer
      font_size:
        description: <-- bu yer o‘zgardi
        minimum: 1
        type: integer
      input_file_id:
        type: string
      page_range:
        type: string
      position:
        type: string
    required:
    - color
    - first_number
    - font_size
    - input_file_id
    - page_range
    - position
    type: object
  models.AddWatermarkJob:
    properties:
      created_at:
        type: string
      fill_color:
        type: string
      font_name:
        type: string
      font_size:
        type: integer
      id:
        type: string
      input_file_id:
        type: string
      opacity:
        type: number
      output_file_id:
        type: string
      pages:
        type: string
      position:
        type: string
      rotation:
        type: integer
      status:
        type: string
      text:
        type: string
      user_id:
        type: string
    type: object
  models.AddWatermarkRequest:
    properties:
      fill_color:
        description: e.g., "#FF0000"
        type: string
      font_name:
        description: e.g., Helvetica
        type: string
      font_size:
        description: e.g., 24
        maximum: 72
        minimum: 8
        type: integer
      input_file_id:
        type: string
      opacity:
        description: e.g., 0.6
        maximum: 1
        minimum: 0
        type: number
      pages:
        description: 'optional: "1-3"'
        type: string
      position:
        description: e.g., "tl"
        type: string
      rotation:
        description: e.g., 0
        maximum: 360
        minimum: 0
        type: integer
      text:
        type: string
    required:
    - fill_color
    - font_name
    - font_size
    - input_file_id
    - position
    - text
    type: object
  models.ChangePasswordRequest:
    properties:
      new_password:
        type: string
      old_password:
        type: string
    type: object
  models.CompressJob:
    properties:
      compression:
        allOf:
        - $ref: '#/definitions/models.CompressionLevel'
        description: '"low", "medium", "high"'
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        description: Output file, can be nil
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.JobStatus'
        description: '"pending", "processing", "done", "failed"'
      user_id:
        description: Can be nil for guest users
        type: string
    type: object
  models.CompressRequest:
    properties:
      compression:
        allOf:
        - $ref: '#/definitions/models.CompressionLevel'
        description: '"low", "medium", "high"'
      input_file_id:
        type: string
    required:
    - compression
    - input_file_id
    type: object
  models.CompressionLevel:
    enum:
    - low
    - medium
    - high
    type: string
    x-enum-varnames:
    - Low
    - Medium
    - High
  models.CreateJPGToPDFRequest:
    properties:
      input_file_ids:
        description: JPG fayllar bir nechta bo‘ladi
        items:
          type: string
        type: array
    required:
    - input_file_ids
    type: object
  models.CreateMergeJobRequest:
    properties:
      input_file_ids:
        description: birlashtirish uchun kerakli fayl IDlar
        items:
          type: string
        type: array
      user_id:
        description: optional (guest user uchun nil bo'lishi mumkin)
        type: string
    type: object
  models.CreateSharedLinkRequest:
    properties:
      expires_at:
        description: '*pointer bo‘lishi kerak!'
        example: "2025-07-27T00:00:00Z"
        type: string
      file_id:
        type: string
    required:
    - file_id
    type: object
  models.CreateSplitJobRequest:
    properties:
      input_file_id:
        type: string
      split_ranges:
        description: 'Masalan: "1-3,4-5"'
        type: string
    required:
    - input_file_id
    - split_ranges
    type: object
  models.CropPDFJob:
    properties:
      bottom:
        description: Pastki chegara
        type: integer
      box:
        description: Box turi
        type: string
      created_at:
        description: Yaratilgan vaqt
        type: string
      id:
        description: Ish IDsi
        type: string
      input_file_id:
        description: Kirish fayl IDsi
        type: string
      input_file_ids:
        description: Fayl IDlari ro'yxati (bir nechta fayl uchun)
        items:
          type: string
        type: array
      left:
        description: Chap chegara
        type: integer
      output_file_id:
        description: Chiqish fayli IDsi
        type: string
      pages:
        description: Sahifalar
        type: string
      right:
        description: O'ng chegara
        type: integer
      status:
        description: Ish holati (masalan, "pending", "done")
        type: string
      top:
        description: Yuqori chegara
        type: integer
      user_id:
        description: Foydalanuvchi IDsi (guest uchun nil bo'lishi mumkin)
        type: string
    type: object
  models.CropPDFRequest:
    properties:
      bottom:
        type: integer
      box:
        description: 'optional: mediabox, cropbox, etc'
        type: string
      input_file_id:
        type: string
      left:
        type: integer
      pages:
        description: 'optional: qaysi sahifalarni crop qilish'
        type: string
      right:
        type: integer
      top:
        type: integer
    required:
    - input_file_id
    type: object
  models.ExcelToPDFJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.ExcelToPDFRequest:
    properties:
      input_file_id:
        type: string
    required:
    - input_file_id
    type: object
  models.ExtractJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      pages_to_extract:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.ExtractPagesRequest:
    properties:
      input_file_id:
        type: string
      page_ranges:
        type: string
    required:
    - input_file_id
    - page_ranges
    type: object
  models.FacebookAuthRequest:
    properties:
      code:
        description: Facebookdan kelgan code
        example: AQDt1n...
        type: string
    required:
    - code
    type: object
  models.File:
    properties:
      fileName:
        type: string
      filePath:
        type: string
      fileSize:
        type: integer
      fileType:
        type: string
      id:
        type: string
      uploadedAt:
        type: string
      userID:
        description: NULL bo‘lishi mumkin
        type: string
    type: object
  models.FileDeletionLog:
    properties:
      deleted_at:
        type: string
      deleted_by:
        type: string
      file_id:
        type: string
      id:
        type: string
      reason:
        type: string
      user_id:
        type: string
    type: object
  models.FileRow:
    properties:
      file_name:
        type: string
      file_path:
        type: string
      file_size:
        type: integer
      file_type:
        type: string
      id:
        type: string
      uploaded_at:
        type: string
      user_email:
        type: string
      user_id:
        type: string
    type: object
  models.GithubAuthRequest:
    properties:
      code:
        example: AQDt1n...
        type: string
    required:
    - code
    type: object
  models.GoogleAuthRequest:
    properties:
      code:
        description: Google authorization code
        example: 4/0AX4XfW...
        type: string
    required:
    - code
    type: object
  models.JPGToPDFJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_ids:
        items:
          type: string
        type: array
      output_file_id:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.JobStatus:
    enum:
    - pending
    - processing
    - done
    - failed
    type: string
    x-enum-varnames:
    - Pending
    - Processing
    - Done
    - Failed
  models.JobSummary:
    properties:
      created_at:
        type: string
      id:
        type: string
      job_type:
        type: string
      output_file_id:
        description: split uchun NULL bo'lishi mumkin
        type: string
      status:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  models.Log:
    properties:
      created_at:
        type: string
      id:
        type: string
      job_id:
        type: string
      job_type:
        type: string
      level:
        type: string
      message:
        type: string
    type: object
  models.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  models.LoginResponse:
    properties:
      access_token:
        type: string
      id:
        type: string
      refresh_token:
        type: string
      role:
        type: string
    type: object
  models.LogoutRequest:
    properties:
      refresh_token:
        type: string
    type: object
  models.MergeJob:
    properties:
      createdAt:
        type: string
      id:
        type: string
      inputFileIDs:
        description: input fayllar (JOIN orqali olinadi, db da yo‘q)
        items:
          type: string
        type: array
      outputFileID:
        description: NULL bo'lishi mumkin (hozircha natija yo'q)
        type: string
      status:
        description: pending, done, failed
        type: string
      userID:
        description: NULL bo'lishi mumkin (guest)
        type: string
    type: object
  models.PDFToJPGJob:
    properties:
      created_at:
        description: Job creation timestamp
        type: string
      id:
        description: Job ID
        type: string
      input_file_id:
        description: Input file ID
        type: string
      output_file_ids:
        description: List of generated JPG file IDs
        items:
          type: string
        type: array
      status:
        description: Status of the job (pending, processing, done, failed)
        type: string
      user_id:
        description: User ID (nullable)
        type: string
      zip_file_id:
        description: ZIP file ID (nullable, can be nil)
        type: string
    type: object
  models.PDFToJPGRequest:
    properties:
      input_file_id:
        description: Required input file ID
        type: string
    required:
    - input_file_id
    type: object
  models.PDFToWordJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.PDFToWordRequest:
    properties:
      input_file_id:
        type: string
    required:
    - input_file_id
    type: object
  models.PasswordResetRequest:
    properties:
      email:
        description: Foydalanuvchi emaili
        type: string
    required:
    - email
    type: object
  models.PowerPointToPDFJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.PowerPointToPDFRequest:
    properties:
      input_file_id:
        type: string
    required:
    - input_file_id
    type: object
  models.ProtectPDFJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        description: ← *pointer (✔ to‘g‘ri)
        type: string
      password:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.ProtectPDFRequest:
    properties:
      input_file_id:
        description: PDF fayl ID
        type: string
      password:
        description: Qo‘yiladigan parol
        type: string
    required:
    - input_file_id
    - password
    type: object
  models.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  models.RemoveJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        description: NULL bo‘lishi mumkin
        type: string
      pages_to_remove:
        type: string
      status:
        type: string
      user_id:
        description: NULL bo‘lishi mumkin
        type: string
    type: object
  models.RemovePagesRequest:
    properties:
      input_file_id:
        type: string
      pages_to_remove:
        description: e.g. "1,4-6"
        type: string
    type: object
  models.ResetPasswordRequest:
    properties:
      new_password:
        description: Yangi parol
        type: string
      repeat_password:
        description: Takrorlangan parol
        type: string
      token:
        description: Token
        type: string
    required:
    - new_password
    - repeat_password
    - token
    type: object
  models.Response:
    properties:
      data: {}
      description:
        type: string
      statusCode:
        type: integer
    type: object
  models.RotateJob:
    properties:
      angle:
        description: Burilish burchagi
        type: integer
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      output_path:
        type: string
      pages:
        description: Tanlangan sahifalar
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.RotatePDFRequest:
    properties:
      angle:
        description: 'Burchak: 90, 180, 270'
        type: integer
      input_file_id:
        type: string
      pages:
        description: 'Sahifa raqamlari masalan: "1-3", "2", "odd"'
        type: string
    required:
    - angle
    - input_file_id
    - pages
    type: object
  models.SetRoleRequest:
    properties:
      role:
        example: admin
        type: string
    type: object
  models.SharedLink:
    properties:
      created_at:
        type: string
      expires_at:
        type: string
      file_id:
        type: string
      id:
        type: string
      shared_token:
        type: string
    type: object
  models.SignupRequest:
    properties:
      email:
        type: string
      name:
        type: string
      password:
        type: string
    required:
    - email
    - name
    - password
    type: object
  models.SignupResponse:
    properties:
      id:
        description: Foydalanuvchi ID si
        type: string
    type: object
  models.SplitJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_ids:
        items:
          type: string
        type: array
      split_ranges:
        type: string
      status:
        type: string
      user_id:
        description: ❗️ string emas, *string bo‘lishi kerak
        type: string
    type: object
  models.UnlockPDFJob:
    properties:
      created_at:
        description: Yaratilgan vaqti
        type: string
      id:
        description: Job ID
        type: string
      input_file_id:
        description: Kiruvchi fayl IDsi
        type: string
      output_file_id:
        description: Natijaviy fayl IDsi
        type: string
      status:
        description: pending, done, failed
        type: string
      user_id:
        description: Foydalanuvchi IDsi
        type: string
    type: object
  models.UnlockPDFRequest:
    properties:
      input_file_id:
        description: Kiruvchi PDF fayl IDsi
        type: string
      password:
        description: PDF paroli
        type: string
    required:
    - input_file_id
    - password
    type: object
  models.UpdateAvatarRequest:
    properties:
      avatar:
        description: Yangi avatar URL
        type: string
    required:
    - avatar
    type: object
  models.User:
    properties:
      avatar:
        description: Foydalanuvchi profil rasmi URL (ixtiyoriy)
        type: string
      created_at:
        description: Ro‘yxatdan o‘tgan vaqt
        type: string
      email:
        description: Foydalanuvchi emaili
        type: string
      id:
        description: Foydalanuvchi ID
        type: string
      language:
        description: 'Foydalanuvchi tanlagan til (default: ''en'')'
        type: string
      name:
        description: Foydalanuvchi ismi
        type: string
      notifications:
        description: Foydalanuvchi bildirishnomalarni olishni xohlayaptimi
        type: boolean
      role:
        description: Foydalanuvchi roli (admin, user)
        type: string
      status:
        description: Foydalanuvchi holati (active, blocked)
        type: string
      updated_at:
        description: Profil yangilangan vaqti
        type: string
    type: object
  models.UserPreferences:
    properties:
      created_at:
        type: string
      id:
        type: string
      language:
        type: string
      notifications:
        type: boolean
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  models.UserStats:
    properties:
      added_page_numbers:
        description: Sahifalarga raqam qo‘shish
        type: integer
      compressed:
        description: Siqilgan fayllar soni
        type: integer
      cropped:
        description: PDFni kesish ishlari
        type: integer
      extracted:
        description: Sahifalar ajratilgan ishlar
        type: integer
      jpg_to_pdf:
        description: JPG → PDF aylantirishlar
        type: integer
      merged:
        description: Birlashtirish ishlar soni
        type: integer
      organized:
        description: Sahifa tartibi o‘zgartirilgan
        type: integer
      pdf_to_jpg:
        description: PDF → JPG aylantirishlar
        type: integer
      pdf_to_word:
        description: PDF → Word aylantirishlar
        type: integer
      protected:
        description: Parol bilan himoyalanganlar
        type: integer
      removed_pages:
        description: Sahifa o‘chirish ishlar soni
        type: integer
      rotated:
        description: Sahifa aylantirishlar
        type: integer
      splitted:
        description: Bo‘lib olish ishlar soni
        type: integer
      total_files:
        description: Umumiy yuklangan fayllar
        type: integer
      unlocked:
        description: PDF qulflar yechilgan soni
        type: integer
      used_storage_mb:
        description: MB’da ishlatilgan xotira (hisoblash kerak)
        type: integer
      watermarked:
        description: Suv belgisi qo‘shilganlar
        type: integer
    type: object
  models.WordToPDFJob:
    properties:
      created_at:
        type: string
      id:
        type: string
      input_file_id:
        type: string
      output_file_id:
        type: string
      status:
        type: string
      user_id:
        type: string
    type: object
  models.WordToPDFRequest:
    properties:
      input_file_id:
        type: string
    required:
    - input_file_id
    type: object
info:
  contact: {}
  description: Authentication and Authorization API
  title: Auth API
  version: "1.0"
paths:
  /admin/files:
    get:
      description: Foydalanuvchi bo'yicha, qidiruv, sana va guest filterlari bilan
        fayllar ro'yxati
      parameters:
      - description: Filter by user_id
        in: query
        name: user_id
        type: string
      - default: false
        description: Include files with NULL user_id
        in: query
        name: include_guests
        type: boolean
      - description: Search in file_name (ILIKE)
        in: query
        name: q
        type: string
      - description: From date (RFC3339)
        in: query
        name: from
        type: string
      - description: To date (RFC3339)
        in: query
        name: to
        type: string
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.FileRow'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: 'Admin: list files'
      tags:
      - admin
      - files
  /admin/files/cleanup:
    post:
      description: Admin-only endpoint to delete files older than N days
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Cleanup old files
      tags:
      - admin
      - files
  /admin/files/pending-deletion:
    get:
      description: List files that are older than expirationMinutes minutes (pending
        deletion)
      parameters:
      - default: 5
        description: Expiration time in minutes
        in: query
        name: expirationMinutes
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.File'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: List files pending deletion
      tags:
      - admin
      - files
  /admin/jobs:
    get:
      description: Merge, split, compress va boshqa joblar holati (filter + paginatsiya)
      parameters:
      - description: Job type (merge|split|compress)
        in: query
        name: type
        type: string
      - description: Status (pending|processing|done|failed)
        in: query
        name: status
        type: string
      - description: User ID
        in: query
        name: user_id
        type: string
      - description: From (RFC3339, e.g. 2025-08-01T00:00:00Z)
        in: query
        name: from
        type: string
      - description: To (RFC3339)
        in: query
        name: to
        type: string
      - description: Job ID prefix
        in: query
        name: search
        type: string
      - default: 50
        description: Limit (max 200)
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.JobSummary'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: List jobs (all types)
      tags:
      - admin
      - jobs
  /admin/logs/{id}:
    get:
      consumes:
      - application/json
      description: Get logs by job ID (admin)
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Log'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Get logs for a specific job
      tags:
      - admin
      - logs
  /admin/users/{id}/demote:
    post:
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Demote admin to user
      tags:
      - admin
      - users
  /admin/users/{id}/promote:
    post:
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Promote user to admin
      tags:
      - admin
      - users
  /admin/users/{id}/role:
    post:
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: 'new role: admin|user'
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SetRoleRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Set user role
      tags:
      - admin
      - users
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: Change password (user must send old and new password)
      parameters:
      - description: Change password
        in: body
        name: change_password
        required: true
        schema:
          $ref: '#/definitions/models.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Change user password
      tags:
      - user
  /auth/facebook:
    post:
      consumes:
      - application/json
      description: Facebook OAuth code orqali login yoki ro‘yxatdan o‘tish (JWT tokenlar
        qaytaradi)
      parameters:
      - description: Facebook authorization code
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.FacebookAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Facebook orqali login yoki registratsiya
      tags:
      - auth
  /auth/github:
    post:
      consumes:
      - application/json
      description: GitHub OAuth code orqali login yoki ro‘yxatdan o‘tish (JWT tokenlar
        qaytaradi)
      parameters:
      - description: GitHub authorization code
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.GithubAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: GitHub orqali login yoki registratsiya
      tags:
      - auth
  /auth/google:
    post:
      consumes:
      - application/json
      description: Google OAuth code orqali login yoki ro‘yxatdan o‘tish (JWT tokenlar
        qaytaradi)
      parameters:
      - description: Google authorization code
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.GoogleAuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Google orqali login yoki registratsiya
      tags:
      - auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: User login with email and password
      parameters:
      - description: Login credentials
        in: body
        name: login
        required: true
        schema:
          $ref: '#/definitions/models.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: User login
      tags:
      - auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: JWT tokenlarni va sessionni bekor qiladi
      parameters:
      - description: Logout request (refresh_token optional)
        in: body
        name: data
        schema:
          $ref: '#/definitions/models.LogoutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Logout (chiqish)
      tags:
      - auth
  /auth/refresh-token:
    post:
      consumes:
      - application/json
      description: Return new access & refresh token using a valid refresh token
      parameters:
      - description: Refresh token
        in: body
        name: refresh
        required: true
        schema:
          $ref: '#/definitions/models.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Refresh access token
      tags:
      - auth
  /auth/request-password-reset:
    post:
      consumes:
      - application/json
      description: Send a password reset link to the user email
      parameters:
      - description: User email
        in: body
        name: email
        required: true
        schema:
          $ref: '#/definitions/models.PasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Request password reset
      tags:
      - auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: Reset the user password using the reset token
      parameters:
      - description: New password, repeat password, and token
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Reset user password
      tags:
      - auth
  /auth/signup:
    post:
      consumes:
      - application/json
      description: Register a new user (name, email, password)
      parameters:
      - description: Signup data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.SignupRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.SignupResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Register a new user
      tags:
      - auth
  /file:
    get:
      parameters:
      - default: 20
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 1
        description: Page
        in: query
        name: page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.File'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: List all user's files
      tags:
      - file
    post:
      consumes:
      - multipart/form-data
      description: Guest ham, ro‘yxatdan o‘tgan user ham yuklay oladi. (optional auth)
      parameters:
      - description: Upload file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Upload file
      tags:
      - file
  /file/{id}:
    delete:
      parameters:
      - description: File ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Delete file by ID
      tags:
      - file
    get:
      parameters:
      - description: File ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.File'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Get file by ID
      tags:
      - file
  /jobs/{type}/{id}/download:
    get:
      description: Merge/Compress/Rotate/... kabi single-outputlarda to'g'ridan-to'g'ri
        faylni, pdf-to-jpg kabi ko'p outputlarda ZIP yoki birinchi chiqishni qaytaradi.
      parameters:
      - description: Job type (merge|split|compress|pdf-to-jpg|...)
        in: path
        name: type
        required: true
        type: string
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      summary: Download job result (universal)
      tags:
      - jobs
      - download
  /me:
    get:
      consumes:
      - application/json
      description: Get user profile (JWT token required)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Get my profile
      tags:
      - user
  /me/avatar:
    patch:
      consumes:
      - application/json
      description: Update user avatar (optional)
      parameters:
      - description: Avatar data
        in: body
        name: avatar
        required: true
        schema:
          $ref: '#/definitions/models.UpdateAvatarRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Update avatar
      tags:
      - user
  /me/preferences:
    get:
      consumes:
      - application/json
      description: Get user preferences (language, notifications)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserPreferences'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Get user preferences
      tags:
      - user
    patch:
      consumes:
      - application/json
      description: Update user preferences (language, notifications)
      parameters:
      - description: User preferences data
        in: body
        name: preferences
        required: true
        schema:
          $ref: '#/definitions/models.UserPreferences'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Update user preferences
      tags:
      - user
  /pdf/add-page-numbers:
    post:
      consumes:
      - application/json
      description: Adds page numbers to selected pages with font/position settings
        (auth optional).
      parameters:
      - description: PDF ID and font settings
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.AddPageNumbersRequest'
      produces:
      - application/json
      responses:
        "201":
          description: job_id
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Add page numbers to a PDF
      tags:
      - pdf
  /pdf/add-page-numbers/{id}:
    get:
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AddPageNumberJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get add-page-numbers job by ID
      tags:
      - pdf
  /pdf/compress:
    post:
      consumes:
      - application/json
      parameters:
      - description: compress job
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CompressRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Create compress job
      tags:
      - pdf-compress
  /pdf/compress/{id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: compress job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.CompressJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get compress job by ID
      tags:
      - pdf-compress
  /pdf/crop:
    post:
      consumes:
      - application/json
      description: PDF sahifalarini belgilangan tomonlardan qirqadi (top, bottom,
        left, right)
      parameters:
      - description: Crop request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CropPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Crop PDF pages
      tags:
      - PDF Edit
  /pdf/crop/{id}:
    get:
      description: Crop PDF jarayonining natijasini olish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.CropPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get Crop Job info
      tags:
      - PDF Edit
  /pdf/excel-to-pdf:
    post:
      consumes:
      - application/json
      description: Excel faylni PDF formatga o‘tkazish
      parameters:
      - description: Excel fayl IDsi
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ExcelToPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Yaratilgan job ID
          schema:
            allOf:
            - $ref: '#/definitions/models.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Excel → PDF konvertatsiya qilish
      tags:
      - Excel to PDF
  /pdf/excel-to-pdf/{id}:
    get:
      description: Job statusini ko‘rish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ExcelToPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Excel→PDF Job holatini olish
      tags:
      - Excel to PDF
  /pdf/extract:
    post:
      consumes:
      - application/json
      parameters:
      - description: extract request body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ExtractPagesRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Create extract job
      tags:
      - pdf-extract
  /pdf/extract/{id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: extract job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ExtractJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get extract job by ID
      tags:
      - pdf-extract
  /pdf/jpg-to-pdf:
    post:
      consumes:
      - application/json
      description: Convert a JPG to PDF
      parameters:
      - description: JPG to PDF request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateJPGToPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Convert JPG to PDF
      tags:
      - jpg-to-pdf
  /pdf/jpg-to-pdf/{id}:
    get:
      description: JPG to PDF konversiya ishining holatini olish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.JPGToPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get JPG to PDF job
      tags:
      - jpg-to-pdf
  /pdf/merge:
    post:
      consumes:
      - application/json
      parameters:
      - description: merge job
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateMergeJobRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Create merge job
      tags:
      - pdf-merge
  /pdf/merge/{id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: merge job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MergeJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get merge job
      tags:
      - pdf-merge
  /pdf/merge/{id}/process:
    post:
      description: Triggers processing for a merge job. Use POST (not GET).
      parameters:
      - description: merge job ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: Processed synchronously
          schema:
            $ref: '#/definitions/models.Response'
        "400":
          description: Missing/invalid ID
          schema:
            $ref: '#/definitions/models.Response'
        "404":
          description: Job not found
          schema:
            $ref: '#/definitions/models.Response'
        "409":
          description: Job status not eligible for processing
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Process merge job (side-effect)
      tags:
      - pdf-merge
  /pdf/pdf-to-jpg:
    post:
      consumes:
      - application/json
      description: Convert a PDF file's pages into JPG format
      parameters:
      - description: PDF file ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.PDFToJPGRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Convert PDF to JPG
      tags:
      - pdf-to-jpg
  /pdf/pdf-to-jpg/{id}:
    get:
      description: Retrieve the status of the conversion job by Job ID
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.PDFToJPGJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get PDF to JPG conversion job
      tags:
      - pdf-to-jpg
  /pdf/pdf-to-word:
    post:
      consumes:
      - application/json
      description: PDF faylni Word formatiga o‘tkazish
      parameters:
      - description: PDF to Word request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.PDFToWordRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Convert PDF to Word
      tags:
      - PDF to Word
  /pdf/pdf-to-word/{id}:
    get:
      description: PDF to Word ish holatini ko‘rish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.PDFToWordJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get PDF to Word Job
      tags:
      - PDF to Word
  /pdf/ppt-to-pdf:
    post:
      consumes:
      - application/json
      description: PowerPoint faylni PDF formatga o‘tkazish
      parameters:
      - description: PowerPoint to PDF request
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/models.PowerPointToPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: job_id qaytadi
          schema:
            allOf:
            - $ref: '#/definitions/models.Response'
            - properties:
                data:
                  type: string
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Convert PowerPoint to PDF
      tags:
      - PowerPoint to PDF
  /pdf/ppt-to-pdf/{id}:
    get:
      description: Konvertatsiya holatini olish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.PowerPointToPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get PowerPoint→PDF Job Status
      tags:
      - PowerPoint to PDF
  /pdf/protect:
    post:
      consumes:
      - application/json
      description: PDF fayliga parol qo‘shadi (foydalanuvchi tomonidan berilgan parol
        asosida)
      parameters:
      - description: Protect request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ProtectPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Protect PDF with password
      tags:
      - PDF Security
  /pdf/protect/{id}:
    get:
      description: Parollangan PDF faylga oid ish holatini qaytaradi
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ProtectPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get protected PDF job by ID
      tags:
      - PDF Security
  /pdf/remove-pages:
    post:
      consumes:
      - application/json
      parameters:
      - description: remove pages job
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.RemovePagesRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Create remove pages job
      tags:
      - pdf-remove
  /pdf/remove-pages/{id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: remove job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.RemoveJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get remove pages job by ID
      tags:
      - pdf-remove
  /pdf/rotate:
    post:
      consumes:
      - application/json
      description: PDF fayl sahifalarini aylantiradi (90, 180 yoki 270 gradus)
      parameters:
      - description: Rotate request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.RotatePDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Rotate PDF pages
      tags:
      - PDF Edit
  /pdf/rotate/{id}:
    get:
      description: Rotate PDF jarayonining natijasini olish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.RotateJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get Rotate Job info
      tags:
      - PDF Edit
  /pdf/share:
    post:
      consumes:
      - application/json
      description: PDF faylni boshqalar bilan ulashish uchun link yaratish
      parameters:
      - description: File ID and expiration date
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateSharedLinkRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Faylga ulashish havolasi yaratish
      tags:
      - share
  /pdf/share/{token}:
    get:
      description: Token orqali faylga kirish
      parameters:
      - description: Shared link token
        in: path
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SharedLink'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Ulashilgan faylni olish
      tags:
      - share
  /pdf/split:
    post:
      consumes:
      - application/json
      parameters:
      - description: split job
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.CreateSplitJobRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Create split job
      tags:
      - pdf-split
  /pdf/split/{id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: split job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SplitJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get split job by ID
      tags:
      - pdf-split
  /pdf/unlock:
    post:
      consumes:
      - application/json
      description: Qulflangan PDF faylni ochish (parolsiz qilish)
      parameters:
      - description: Unlock PDF request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.UnlockPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Unlock PDF file
      tags:
      - PDF Unlock
  /pdf/unlock/{id}:
    get:
      description: Unlock PDF ish holatini ko‘rish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UnlockPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get Unlock Job status
      tags:
      - PDF Unlock
  /pdf/watermark:
    post:
      consumes:
      - application/json
      description: Add a watermark text to specific pages of a PDF file
      parameters:
      - description: Watermark request body
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.AddWatermarkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Add text watermark to PDF
      tags:
      - pdf-watermark
  /pdf/watermark/{id}:
    get:
      consumes:
      - application/json
      description: Retrieve watermark job details and status
      parameters:
      - description: Watermark Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AddWatermarkJob'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get watermark job by ID
      tags:
      - pdf-watermark
  /pdf/word-to-pdf:
    post:
      consumes:
      - application/json
      description: Word hujjatni PDF formatga o‘tkazish
      parameters:
      - description: Word to PDF so‘rovi
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.WordToPDFRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Convert Word to PDF
      tags:
      - Word to PDF
  /pdf/word-to-pdf/{id}:
    get:
      description: Konvertatsiya holatini olish
      parameters:
      - description: Job ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.WordToPDFJob'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      summary: Get Word→PDF Job Status
      tags:
      - Word to PDF
  /stats/user:
    get:
      consumes:
      - application/json
      description: Foydalanuvchining PDF bo‘yicha statistikasi (birlashtirish, bo‘lish
        va h.k.)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserStats'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: Foydalanuvchi statistikasi
      tags:
      - stats
  /v1/admin/files/deleted-logs:
    get:
      description: O‘chirilgan fayllar bo‘yicha audit loglar (admin-only, paginatsiya
        bilan)
      parameters:
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.FileDeletionLog'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/models.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/models.Response'
      security:
      - ApiKeyAuth: []
      summary: List deleted files audit logs
      tags:
      - admin
      - files
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
